<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="K7thEgdLm0UfRWJ5MGdF7sCcjClSzAlxFLPv2Oz5CGM"><title> 通过脚本改变角色控制器 · MJ's Blog</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="通过脚本改变角色控制器 - MJ"><meta name="keywords"><meta name="author" content="MJ"><link rel="short icon" href="/images/QuestIcon.png"><link rel="stylesheet" href="/css/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weimingjuncn.github.io/atom.xml" title="MJ's Blog"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script><meta name="generator" content="Hexo 4.2.0"></head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="/images/dragonIcon.png"></a><ul id="nav_list" class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="博文" class="nav-list-link">博文</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="归档" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/about/" target="_self" data-hover="关于" class="nav-list-link">关于</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div id="nav_btn" class="nav-btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">通过脚本改变角色控制器</h1><div class="post-info">2020-06-16</div><div class="post-content"><p>Applying Root Motion to your character might be a very practical and accurate way to animate it. However, every now and then, youmight need to manually control one or twoaspects of the character’s movement. Perhapsyou only have an in-place animation to workwith, or maybe you want the character’smovement to be affected by other variables. Inthese cases, you will need to override RootMotion via a script.<br>To illustrate this issue, this recipe makesuse of an animation clip for jumping, whichoriginally moves the character only in theY-axis. In order to make her move forward orbackward while jumping, we will learn how toaccess the character’s velocity to inform thejump direction via a script.</p>
<a id="more"></a>

<p>For this recipe, we have prepared a Unity Package named Jumping , containing a basic scene that features an animated character. Wehave also provided the FBX animation clipSwat@rifle_jump . These files can be found in the 09_05 folder.</p>
<p>Create a new 3D project and import the Jumping Unity Package, as well as the FBX <a href="mailto:Swat@rifle_jump.fbx">Swat@rifle_jump.fbx</a>  file.Then, from the Project panel, open theme canimPlayground level.We need to configure the Animation Clips .Select the  Swat@rifle_jump  asset in the Project panel.</p>
<p>Select the Rig section. Change AnimationType to Humanoid  and Avatar Definition toCreate From this Model . Confirm this byclicking on Apply .</p>
<p>Now, activate the Animations section. Therifle_jump clip should be selected. Clickthe Clamp Range button to adjust thetimeline, and check the Loop Time and LoopPose options. Under Root Transform Rotation, check Bake Into Pose  and select BasedUpon | Original . Under Root TransformPosition (Y) , leave Bake into Pose uncheckedand select Based Upon (at Start) | Original. Under Root Transform Position (XZ) , leaveBake Into Pose unchecked. Click on Apply toconfirm the changes:</p>
</div></article></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">搜索</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2020/06/17/DarkSoulsDemo%EF%BC%88%E4%B8%80%EF%BC%89%E8%A7%92%E8%89%B2%E8%A1%8C%E8%B5%B0/" title="DarkSoulsDemo（一）角色行走" class="prev">PREV</a><a href="/2020/06/14/%E5%B0%86%E5%A4%9A%E4%B8%AA%E7%8A%B6%E6%80%81%E7%BB%84%E6%88%90%E5%AD%90%E7%8A%B6%E6%80%81%E6%9C%BA/" title="将多个状态组成子状态机" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2020 <a target="_blank">MJ</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/Bulandent/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a></p><p> <span style="padding-right: 6px;">闽ICP备16007301号-2</span></p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="/scripts/jquery-1.8.2.min.js"></script><script src="/scripts/ar-anchor.js"></script><script src="/scripts/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>